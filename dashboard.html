<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dashboard – etoile property</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
</head>
<body>
<header class="topbar">
  <div class="brand"><a href="./" class="logo"><img src="etoile.jpg" alt="etoile property" /></a></div>
  <button class="hamburger" id="hamburgerBtn" type="button">☰</button>
  <nav class="menu" id="navMenu">
    <a href="./?type=sale">Buy</a>
    <a href="./?type=rent">Rent</a>
    <hr/>
    <a id="nav-admin" class="btn ghost hide" href="admin.html">Admin</a>
    <button id="btn-login"  class="btn pill hide" type="button">Sign in</button>
    <button id="btn-signup" class="btn pill hide" type="button">Sign up</button>
    <button id="btn-logout" class="btn pill" type="button">Logout</button>
  </nav>
  <div id="userChip" class="user-chip"><div id="avatar" class="avatar">?</div><span id="authStatus" class="muted">Logged in</span></div>
</header>

<main class="wrap">
  <h1>Post a property</h1>
  <div class="panel">
    <form id="listingForm" class="form">
      <div class="grid-3">
        <select id="type" required>
          <option value="">Rent or Sale</option><option value="rent">Rent</option><option value="sale">Sale</option>
        </select>
        <select id="propertyType" required>
          <option value="">Property type</option><option>apartment</option><option>house</option><option>villa</option><option>studio</option><option>commercial</option>
        </select>
        <select id="currency"><option>MUR</option><option>AED</option><option>USD</option></select>
      </div>

      <div class="grid-3">
        <input id="title" placeholder="Listing title" required/>
        <input id="price" type="number" placeholder="Price" required/>
        <input id="sizeSqm" type="number" min="0" placeholder="Size (sqm)"/>
      </div>

      <div class="grid-3">
        <input id="bedrooms" type="number" min="0" placeholder="Bedrooms"/>
        <input id="bathrooms" type="number" min="0" placeholder="Bathrooms"/>
        <input id="location" placeholder="Area / Street"/>
      </div>

      <div class="grid-3">
        <input id="city" placeholder="City" required/>
        <input id="country" placeholder="Country" required/>
        <input id="contactPhone" placeholder="Phone" required/>
      </div>

      <textarea id="description" rows="5" placeholder="Description" required></textarea>

      <fieldset class="fs">
        <legend>Images</legend>
        <input type="file" id="imagesInput" accept="image/*" multiple/>
        <div id="preview" class="preview"></div>
      </fieldset>

      <fieldset class="fs">
        <legend>Contact</legend>
        <div class="grid-2">
          <input id="contactName" placeholder="Your name" required/>
          <input id="contactEmail" type="email" placeholder="Email" required/>
        </div>
      </fieldset>

      <fieldset class="fs">
        <legend>Location</legend>
        <div id="pickMap" style="height:280px;border-radius:12px;overflow:hidden;margin-bottom:8px"></div>
        <div class="grid-2">
          <input id="lat" placeholder="Latitude" required />
          <input id="lng" placeholder="Longitude" required />
        </div>
        <p class="muted" style="margin:6px 0 0">Drag the pin or edit the numbers.</p>
      </fieldset>

      <button type="submit" class="btn primary">Submit for approval</button>
    </form>
  </div>

  <h2 class="section-title">Your listings</h2>
  <div id="myListings" class="grid"></div>
</main>

<template id="myCardTpl">
  <div class="card">
    <div class="card-img"></div>
    <div class="card-body">
      <h3 class="card-title"></h3>
      <p class="card-meta"></p>
      <p class="card-price"></p>
      <p class="badge"></p>
      <div class="actions">
        <button class="btn small" type="button">Edit</button>
        <button class="btn outline small delete" type="button">Delete</button>
      </div>
    </div>
  </div>
</template>

<!-- Scripts LAST and in this order -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script type="module" src="js/app.js"></script>
<script type="module" src="js/cloudinary.js"></script>
<script type="module" src="js/map-picker.js"></script>
<script type="module" src="js/dashboard.js"></script>
</body>
</html>
