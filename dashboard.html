<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Dashboard – etoile property</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>

  <header class="topbar">
    <div class="brand">
      <a href="./" class="logo"><img src="etoile.jpg" alt="etoile property"/></a>
    </div>
    <button class="hamburger" id="hamburgerBtn" aria-label="Open menu" aria-expanded="false">☰</button>
  </header>

  <nav class="menu" id="navMenu" aria-label="Primary">
    <button class="menu-close" id="closeMenu" aria-label="Close menu">×</button>

    <div class="has-sub">
      <button class="navlink sub-toggle" aria-expanded="false">Buy</button>
      <div class="submenu">
        <a href="./?type=sale">Property for sale</a>
        <a href="#" class="muted">Offplan property</a>
        <a href="#" class="muted">Property valuation</a>
        <a href="#" class="muted">Investors</a>
        <a href="#" class="muted">Mortgage</a>
        <a href="./?propertyType=expat" class="muted">Expat Approved</a>
        <a href="./?propertyType=commercial">Commercial</a>
      </div>
    </div>
    <div class="has-sub">
      <button class="navlink sub-toggle" aria-expanded="false">Rent</button>
      <div class="submenu">
        <a href="./?type=rent">Property to rent</a>
        <a href="#" class="muted">Student property to rent</a>
        <a href="#" class="muted">Holiday homes</a>
        <a href="#" class="muted">Short term rentals</a>
        <a href="./?type=rent&propertyType=commercial">Commercial</a>
      </div>
    </div>
    <div class="has-sub">
      <button class="navlink sub-toggle" aria-expanded="false">Property Abroad</button>
      <div class="submenu cols">
        <a href="#" class="muted">All Countries</a>
        <a href="#" class="muted">UAE</a>
        <a href="#" class="muted">UK</a>
        <a href="#" class="muted">Spain</a>
        <a href="#" class="muted">France</a>
        <a href="#" class="muted">Greece</a>
        <a href="#" class="muted">Sell Overseas Property</a>
      </div>
    </div>

    <hr/>
    <a id="nav-dashboard" class="btn ghost hide" href="./dashboard.html">Post a property</a>
    <a id="nav-admin" class="btn ghost hide" href="./admin.html">Admin</a>
    <button id="btn-login" class="btn pill">Sign in</button>
    <button id="btn-signup" class="btn pill">Sign up</button>
    <button id="btn-logout" class="btn pill hide">Logout</button>
  </nav>

  <main class="wrap mt">
    <div class="panel">
      <h1>Post a property</h1>
      <p class="muted">Create a new listing. Submissions go to the super admin for approval.</p>

      <form id="createListingForm" class="stack" autocomplete="off">
        <input id="title" placeholder="Title (e.g. 2 bedroom apartment)" required>
        <div class="stack">
          <label>Type</label>
          <select id="type" required>
            <option value="sale">For sale</option>
            <option value="rent">To rent</option>
          </select>
        </div>
        <div class="stack">
          <label>Property type</label>
          <select id="propertyType" required>
            <option value="apartment">Apartment</option>
            <option value="house">House</option>
            <option value="villa">Villa</option>
            <option value="commercial">Commercial</option>
          </select>
        </div>

        <div class="stack">
          <label>Location</label>
          <input id="city" placeholder="City" required>
          <input id="country" placeholder="Country" required>
        </div>

        <div class="stack">
          <label>Details</label>
          <input id="bedrooms" type="number" min="0" placeholder="Bedrooms">
          <input id="bathrooms" type="number" min="0" placeholder="Bathrooms">
          <input id="sizeSqm" type="number" min="0" placeholder="Size (sqm)">
        </div>

        <div class="stack">
          <label>Price</label>
          <input id="price" type="number" min="0" placeholder="Amount" required>
          <input id="currency" placeholder="Currency (e.g. MUR, AED)" value="MUR">
        </div>

        <div class="stack">
          <label>Description</label>
          <textarea id="description" rows="4" placeholder="Describe the property"></textarea>
        </div>

        <div class="stack">
          <label>Photos (Cloudinary URLs)</label>
          <textarea id="images" rows="3" placeholder="Paste 1 URL per line"></textarea>
        </div>

        <div class="stack">
          <label>Location (optional)</label>
          <div id="pickedLatLng" class="muted">No location selected</div>
          <input id="lat" type="hidden"><input id="lng" type="hidden">
          <button type="button" class="btn outline" id="btn-pick-location">Pick on map</button>
        </div>

        <button class="btn primary" type="submit">Submit for approval</button>
      </form>
    </div>

    <div class="panel mt">
      <h2>Your listings</h2>
      <div id="myListings" class="grid"></div>
    </div>
  </main>

  <div id="mapPickModal" class="modal hide" aria-hidden="true">
    <div class="modal-dialog" role="dialog">
      <button class="modal-close" id="closePick" aria-label="Close">×</button>
      <h3 class="modal-title">Pick location</h3>
      <div id="pickMap" style="height:320px;border-radius:12px;overflow:hidden"></div>
      <div class="stack" style="margin-top:12px">
        <button id="savePick" class="btn primary">Save</button>
        <button id="clearPick" class="btn">Clear</button>
      </div>
    </div>
  </div>

  <!-- Auth modals -->
  <div id="loginModal" class="modal hide" aria-hidden="true">
    <div class="modal-dialog">
      <button class="modal-close" id="closeLogin">×</button>
      <h3 class="modal-title">Sign in</h3>
      <form id="emailLoginForm" class="stack">
        <input id="loginEmail" type="email" placeholder="you@example.com" required />
        <input id="loginPassword" type="password" placeholder="Password" required />
        <button type="submit" class="btn primary">Sign in</button>
      </form>
      <p class="muted" style="margin-top:10px">Don’t have an account? <a href="#" id="goSignup">Create one</a></p>
    </div>
  </div>
  <div id="signupModal" class="modal hide" aria-hidden="true">
    <div class="modal-dialog">
      <button class="modal-close" id="closeSignup">×</button>
      <h3 class="modal-title">Create account</h3>
      <form id="emailSignupForm" class="stack">
        <input id="signupEmail" type="email" placeholder="newuser@example.com" required />
        <input id="signupPassword" type="password" placeholder="Password (min 6)" required />
        <button type="submit" class="btn">Sign up</button>
      </form>
      <p class="muted" style="margin-top:10px">Already have an account? <a href="#" id="goLogin">Sign in</a></p>
    </div>
  </div>

  <script type="module" src="./js/app.js"></script>
  <script type="module" src="./js/map-pick.js"></script>
  <script type="module" src="./js/dashboard.js"></script>
</body>
</html>
